from ftplib import FTP
import argparse



if __name__ == "__main__":
    
    parser = argparse.ArgumentParser(description="[I] 批量获取已知账号密码的FTP服务中的目录结构，支持统一下载。")
    parser.add_argument("--hosts", "-hs", default="127.0.0.1", help="指定host，如 127.0.0.1或192.168.0.1/24或host.txt", dest="hosts")
    parser.add_argument("--user", "-u", default="ftp", help="指定用户名来源，如 ftp或user.txt", dest="user")
    parser.add_argument("--pwd", "-p", default="ftp", help="指定密码来源，如 ftp或pwd.txt", dest="pwd")
    parser.add_argument("--save", "-s", default="ListDirTree", help="指定输出方式", choices=["ListDirTree", "BackupAll", "SearchAndBackup"], dest="save")
    parser.add_argument("--banner", "-b", action="store_true", help="获取服务Banner，方便后续寻找EXP", dest="bannerOption")
    parser.add_argument("--output", "-o", default="FtpExpOut.txt", help="指定输出另存为文件", dest="outLocation")
    

    args = parser.parse_args()
    
    print(args)
    
    
    